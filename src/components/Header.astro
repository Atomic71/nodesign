---
import NavLink from '@components/common/NavLink.astro';
---

<header class='bg-white shadow-sm sticky top-0 z-50'>
  <nav class='container mx-auto px-4 py-4'>
    <div class='flex justify-between items-center'>
      <a
        href={`/`}
        class='text-2xl font-display font-bold text-nodesign-primary'
        >NoDesign</a
      >

      <!-- Desktop Navigation -->
      <div class='hidden md:flex space-x-8 items-center'>
        <NavLink href={`/o-nama`}>O nama</NavLink>
        <NavLink href={`/kontakt`}>Kontakt</NavLink>
      </div>

      <!-- Mobile Navigation -->
      <div class='md:hidden'>
        <button
          id='menu-toggle'
          class='text-gray-500 w-10 h-10 relative focus:outline-none bg-white'
          aria-label='Toggle menu'
        >
          <div
            class='block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2'
          >
            <span
              aria-hidden='true'
              class='block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out'
              style='margin-top: -0.25rem;'
            ></span>
            <span
              aria-hidden='true'
              class='block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out'
            ></span>
            <span
              aria-hidden='true'
              class='block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out'
              style='margin-top: 0.25rem;'
            ></span>
          </div>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div
      class='md:hidden mt-4 hidden'
      id='mobile-menu'
    >
      <NavLink
        href={`/o-nama`}
        class='block py-2'
        >O nama</NavLink
      >
      <NavLink
        href={`/kontakt`}
        class='block py-2'
        >Kontakt</NavLink
      >
    </div>
  </nav>
</header>

<style>
  #menu-toggle[aria-expanded='true'] span:first-child {
    transform: translateY(0.25rem) rotate(45deg);
    margin-top: 0;
  }
  #menu-toggle[aria-expanded='true'] span:nth-child(2) {
    opacity: 0;
  }
  #menu-toggle[aria-expanded='true'] span:last-child {
    transform: translateY(-0.25rem) rotate(-45deg);
    margin-top: 0;
  }
</style>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  menuToggle?.addEventListener('click', () => {
    const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
    menuToggle.setAttribute('aria-expanded', String(!isExpanded));
    mobileMenu?.classList.toggle('hidden');
  });
</script>
