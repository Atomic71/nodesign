---
import Text from '@components/common/Text.astro';
import Thumbnail from '@components/common/Thumbnail.astro';
import type { IconType } from '@utils/schemas/icons';
import Icon from './Icon.astro';
import Link from './Link.astro';

interface Props {
  title: string;
  description: string;
  image: string;
  link: string;
  reverse?: boolean;
  subFeatures: {
    title: string;
    icon: IconType;
  }[];
  isLast?: boolean;
}

const {
  title,
  description,
  image,
  link,
  reverse = false,
  subFeatures,
  isLast = false,
} = Astro.props;
---

<div
  class:list={[
    'grid grid-cols-1 md:grid-cols-2 gap-8 items-stretch',
    {
      'mb-8 md:mb-28': !isLast,
    },
  ]}
>
  <div class='col-span-1'>
    <Thumbnail
      image={image}
      title={''}
      description=''
      link={link}
    >
      <div class='flex flex-col gap-2'>
        {
          subFeatures.map((feature) => (
            <div class='flex items-center gap-2'>
              <Icon
                name={'chevron-right'}
                height={20}
                class='text-text-dark'
              />
              <Text
                level='body'
                color='light'
                label={feature.title}
              />
            </div>
          ))
        }
      </div>
    </Thumbnail>
  </div>
  <div class='col-span-1 flex flex-col justify-between'>
    <div>
      <Text
        level='h2'
        color='primary'
        class='mb-4'
        label={title}
      />
      <Text
        level='body'
        themed
        class='mb-6'
        label={description}
      />
    </div>
    <Link
      href={link}
      icon='chevron-right'
      iconRight
      label='Saznajte viÅ¡e'
    />
  </div>
</div>
