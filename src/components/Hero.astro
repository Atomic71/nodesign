---
import { Image } from 'astro:assets';

interface CarouselSlide {
  image: string;
  title: string;
  subtitle: string;
}

interface Props {
  slides: CarouselSlide[];
}

const { slides } = Astro.props;
---

<div
  class='relative w-full h-screen overflow-hidden'
  id='hero-carousel'
>
  <div class='swiper-wrapper'>
    {
      slides.map((slide, index) => (
        <div class='swiper-slide'>
          <div class='relative w-full h-full'>
            <Image
              src={slide.image}
              alt={slide.title}
              class='absolute inset-0 w-full h-full object-cover'
              width={1920}
              height={1080}
            />
            <div class='absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-center items-center text-white p-4'>
              <h1 class='text-3xl md:text-4xl lg:text-6xl font-bold mb-2 md:mb-4 text-center'>
                {slide.title}
              </h1>
              <p class='text-lg md:text-xl lg:text-2xl max-w-2xl text-center'>
                {slide.subtitle}
              </p>
            </div>
          </div>
        </div>
      ))
    }
  </div>
  <div class='swiper-pagination'></div>
  <div class='swiper-button-prev hidden md:flex'></div>
  <div class='swiper-button-next hidden md:flex'></div>
</div>

<script>
  import Swiper from 'swiper';
  import { Navigation, Pagination, Autoplay } from 'swiper/modules';
  import 'swiper/css';
  import 'swiper/css/navigation';
  import 'swiper/css/pagination';

  new Swiper('#hero-carousel', {
    modules: [Navigation, Pagination, Autoplay],
    slidesPerView: 1,
    spaceBetween: 0,
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
</script>

<style>
  .swiper-button-next,
  .swiper-button-prev {
    color: white;
  }

  .swiper-pagination-bullet {
    background-color: white;
  }
</style>
