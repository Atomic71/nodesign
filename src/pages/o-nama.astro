---
import Layout from '@layouts/Layout.astro';
import { getContent } from '@utils/contentLoader';
import { Image } from 'astro:assets';
import aboutBackground from '@assets/photos/kancelarija-2.jpg';
import Text from '@components/common/Text.astro';
import Section from '@components/common/Section.astro';

const aboutContent = await getContent('o-nama');
if (!aboutContent) {
  return Astro.redirect('/404');
}
const { frontmatter, content } = aboutContent;
---

<Layout title={frontmatter.title}>
  <div
    class='relative min-h-screen flex items-center justify-center p-4 pt-20 md:pt-4'
  >
    <Image
      src={aboutBackground}
      alt='NoDesign office background'
      class='absolute inset-0 object-cover w-full h-full'
      loading='eager'
    />
    <div class='absolute inset-0 bg-black opacity-60'></div>

    <div
      class='relative z-10 bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 md:p-8 w-full max-w-3xl'
    >
      <Text
        level='h1'
        color='light'
        class='mb-6 text-center'
        >{frontmatter.title}</Text
      >

      <Text
        level='body'
        color='light'
        class='mb-8'
        set:html={content}
      />

      <Section
        title={frontmatter.mission.title}
        backgroundColor='bg-transparent'
      >
        <Text
          level='body'
          color='light'
          >{frontmatter.mission.content}</Text
        >
      </Section>

      <Section
        title={frontmatter.team.title}
        backgroundColor='bg-transparent'
      >
        <Text
          level='body'
          color='light'
          >{frontmatter.team.content}</Text
        >
      </Section>
    </div>
  </div>
</Layout>
