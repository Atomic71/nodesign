---
import Layout from '../layouts/Layout.astro';
import { getContent } from '../utils/contentLoader';
import { Image } from 'astro:assets';
import contactBackground from '../assets/photos/kancelarija-2.jpg';
import Text from '@components/common/Text.astro';
import Icon from '@components/common/Icon.astro';

export const prerender = true;
const contactContent = await getContent('contact');
if (!contactContent) {
  return Astro.redirect('/404');
}
const { frontmatter, content } = contactContent;
---

<Layout title='Kontakt | NoDesign'>
  <div
    class='relative min-h-screen flex items-center justify-center p-4 pt-20 md:pt-4'
  >
    <Image
      src={contactBackground}
      alt='NoDesign office background'
      class='absolute inset-0 object-cover w-full h-full'
      loading='eager'
    />
    <div class='absolute inset-0 bg-black opacity-60'></div>

    <div
      class='relative z-10 bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 md:p-8 w-full max-w-md'
    >
      <Text
        level='h1'
        color='light'
        class='mb-4 md:mb-6 text-center text-2xl md:text-3xl'
        >Kontaktirajte nas</Text
      >

      <Text
        level='body'
        color='light'
        class='mb-6 md:mb-8 text-center text-sm md:text-base'
        >{content}</Text
      >

      <form class='space-y-4'>
        <input
          type='text'
          placeholder='Ime i prezime'
          class='w-full p-2 bg-white bg-opacity-20 rounded placeholder-gray-300 text-white text-sm md:text-base'
          required
        />
        <input
          type='email'
          placeholder='Email adresa'
          class='w-full p-2 bg-white bg-opacity-20 rounded placeholder-gray-300 text-white text-sm md:text-base'
          required
        />
        <textarea
          placeholder='Vaša poruka'
          rows='4'
          class='w-full p-2 bg-white bg-opacity-20 rounded placeholder-gray-300 text-white text-sm md:text-base'
          required
        ></textarea>
        <button
          type='submit'
          class='w-full bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded transition duration-300 text-sm md:text-base'
        >
          Pošalji poruku
        </button>
      </form>

      <div class='mt-6 md:mt-8 flex justify-center space-x-4'>
        <a
          href='https://facebook.com'
          target='_blank'
          rel='noopener noreferrer'
          class='text-white hover:text-primary transition duration-300'
        >
          <Icon
            name='social-facebook'
            width={20}
            height={20}
          />
        </a>
        <a
          href='https://instagram.com'
          target='_blank'
          rel='noopener noreferrer'
          class='text-white hover:text-primary transition duration-300'
        >
          <Icon
            name='social-instagram'
            width={20}
            height={20}
          />
        </a>
      </div>
    </div>
  </div>
</Layout>

<style>
  @media (max-height: 700px) {
    .min-h-screen {
      min-height: calc(100vh + 4rem);
    }
  }
</style>
