---
import Layout from '../layouts/Layout.astro';
import Text from '@components/common/Text.astro';
import { getContent } from '../utils/contentLoader';
import Section from '@components/common/Section.astro';

const contactContent = await getContent('contact');
if (!contactContent) {
  return Astro.redirect('/404');
}
const { frontmatter, content } = contactContent;
---

<Layout title={frontmatter.title}>
  <Section title={frontmatter.title}>
    <Text
      level='body'
      color='dark'
      set:html={content}
    />

    <form
      class='mt-8 space-y-6'
      action={frontmatter.formAction}
      method='POST'
    >
      <div>
        <label
          for='name'
          class='block text-sm font-medium text-gray-700'
          >{frontmatter.form.name}</label
        >
        <input
          type='text'
          name='name'
          id='name'
          required
          class='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50'
        />
      </div>
      <div>
        <label
          for='email'
          class='block text-sm font-medium text-gray-700'
          >{frontmatter.form.email}</label
        >
        <input
          type='email'
          name='email'
          id='email'
          required
          class='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50'
        />
      </div>
      <div>
        <label
          for='message'
          class='block text-sm font-medium text-gray-700'
          >{frontmatter.form.message}</label
        >
        <textarea
          name='message'
          id='message'
          rows='4'
          required
          class='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50'
        ></textarea>
      </div>
      <div>
        <button
          type='submit'
          class='inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary'
        >
          {frontmatter.form.submit}
        </button>
      </div>
    </form>
  </Section>
</Layout>
